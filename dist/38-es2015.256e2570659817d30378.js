(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{MBlc:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class u{}var i=e("pMnS"),r=e("SVse"),o=e("XNiG"),a=e("1G5W"),d=(e("ZF+8"),e("YO4B")),c=e("Cmua"),s=e("lJxs"),g=e("kcl6");let m=(()=>{class l{constructor(l,n,e,t,u){this.dutyGql=l,this.dutiesGql=n,this.addDutyGql=e,this.editDutyGql=t,this.deleteDutyGql=u}getDuty(l){return this.dutyGql.watch({dutyId:l}).valueChanges.pipe(Object(s.a)(l=>(this.loading=l.loading,this.errors=l.errors,this.networkStatus=l.networkStatus,l)))}getDuties(){return this.dutiesGql.watch().valueChanges.pipe(Object(s.a)(l=>(this.loading=l.loading,this.errors=l.errors,this.networkStatus=l.networkStatus,l)))}addDuty(l){return this.addDutyGql.mutate({duty:l}).pipe(Object(s.a)(l=>(this.loading=l.loading,this.errors=l.errors,this.networkStatus=l.networkStatus,l)))}editDuty(l){return this.editDutyGql.mutate({duty:l}).pipe(Object(s.a)(l=>(this.loading=l.loading,this.errors=l.errors,this.networkStatus=l.networkStatus,l)))}deleteDuty(l){return this.deleteDutyGql.mutate({duty:l}).pipe(Object(s.a)(l=>(this.loading=l.loading,this.errors=l.errors,this.networkStatus=l.networkStatus,l)))}}return l.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new l(t["\u0275\u0275inject"](g.P),t["\u0275\u0275inject"](g.O),t["\u0275\u0275inject"](g.f),t["\u0275\u0275inject"](g.T),t["\u0275\u0275inject"](g.B))},token:l,providedIn:"root"}),l})();var _=e("r9as"),p=e("kmKP");class b{constructor(l,n,e,t,u,i,r){this.router=l,this.alertService=n,this.activityService=e,this.userService=t,this.enrollmentService=u,this.dutyService=i,this.workloadService=r,this.userId=this.userService.currentUserIdStatic(),this.studentsList=[],this.unsubscribe=new o.a}ngOnInit(){this.getHemisData(),this.getSumPercentageOfTotal(),this.getDuties()}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}getHemisData(){const l=this.userService.currentUserIdStatic();this.workloadService.hemis(l).pipe(Object(a.a)(this.unsubscribe)).subscribe(l=>{this.hemisData=l.data.hemis.map(l=>l)})}baseContact(l){return this.workloadService.baseContact(l).pipe(Object(a.a)(this.unsubscribe)).subscribe(l=>(console.log("Base Contact: ",l.data.baseContact),l.data.baseContact))}other(l){return this.workloadService.other(l).pipe(Object(a.a)(this.unsubscribe)).subscribe(l=>l.data.other)}total(l){return this.workloadService.total(l).pipe(Object(a.a)(this.unsubscribe)).subscribe(l=>l.data.total)}studentsEnrolled(l){return this.workloadService.studentsEnrolled(l).pipe(Object(a.a)(this.unsubscribe)).subscribe(l=>l.data.studentsEnrolled)}getPercentageOfTotal(l){this.workloadService.percentageOfTotal(l).pipe(Object(a.a)(this.unsubscribe)).subscribe(l=>{this.percentageOfTotal=l.data.percentageOfTotal})}getSumPercentageOfTotal(){const l=this.userService.currentUserIdStatic();this.workloadService.sumPercentageOfTotal(l).pipe(Object(a.a)(this.unsubscribe)).subscribe(l=>{console.log(l.data.sumPercentageOfTotal),this.sumPercentageOfTotal=l.data.sumPercentageOfTotal})}getDuties(){this.dutyService.getDuties().pipe(Object(a.a)(this.unsubscribe)).subscribe(l=>{this.duties=l.data.duties.map(l=>l)})}getEnrollment(l){this.enrollmentService.getEnrollment((new Date).getFullYear().toString(),l).pipe(Object(a.a)(this.unsubscribe)).subscribe(l=>{this.enrollment=l.data.enrollment})}getStudents(l){}}var h=e("iInd"),w=e("8Wkk"),v=t["\u0275crt"]({encapsulation:0,styles:[[".hemis[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-auto-rows:minmax(2rem,-webkit-max-content);grid-auto-rows:minmax(2rem,max-content);grid-row-gap:1rem}.heading[_ngcontent-%COMP%]{margin-top:2rem;height:3rem;grid-column:1/2;align-self:center;font-weight:700;text-transform:uppercase;vertical-align:middle}.programme[_ngcontent-%COMP%]{border-bottom:1px solid #000;grid-template-columns:repeat(10,1fr);grid-auto-rows:auto;display:grid}.programme__heading[_ngcontent-%COMP%]{grid-column:1/-1;grid-row:1/2;border-bottom:1px solid #000;border-top:1px solid #000;display:grid;grid-template-columns:9fr 1fr;grid-row:1/2}.programme__heading--programme[_ngcontent-%COMP%]{grid-column:1/2;font-weight:700;justify-self:center}.programme__heading--time[_ngcontent-%COMP%]{grid-column:2/3;font-weight:700;justify-self:center}.programme__content[_ngcontent-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:repeat(10,1fr);grid-auto-rows:auto;grid-row-gap:.6rem}.programme__item[_ngcontent-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:repeat(10,1fr)}.programme__item--code[_ngcontent-%COMP%]{grid-column:1/2;justify-self:center}.programme__item--name[_ngcontent-%COMP%]{grid-column:2/10;text-transform:uppercase}.programme__item--value[_ngcontent-%COMP%]{grid-column:10/11;justify-self:center}.breakdown[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 40% repeat(6,1fr);grid-template-rows:auto;-webkit-box-align:center;align-items:center;border:1px solid}.breakdown__heading[_ngcontent-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:1fr 40% repeat(6,1fr);grid-template-rows:auto;-webkit-box-align:center;align-items:center;font-weight:700;text-transform:uppercase;border-bottom:1px solid #000}.breakdown__heading--subject[_ngcontent-%COMP%]{grid-column:1/3;grid-row:1/2}.breakdown__heading--code[_ngcontent-%COMP%]{grid-column:1/2;grid-row:2/3}.breakdown__heading--description[_ngcontent-%COMP%]{grid-column:2/3;grid-row:2/3}.breakdown__heading--annual-hours[_ngcontent-%COMP%]{grid-column:3/5;grid-row:1/2}.breakdown__heading--contact[_ngcontent-%COMP%]{grid-column:3/4;grid-row:2/3}.breakdown__heading--other[_ngcontent-%COMP%]{grid-column:4/5;grid-row:2/3}.breakdown__heading--time[_ngcontent-%COMP%]{grid-column:5/6;grid-row:1/3;align-self:center}.breakdown__heading--students[_ngcontent-%COMP%]{grid-column:6/7;grid-row:1/3;align-self:center}.breakdown__heading--venue[_ngcontent-%COMP%]{grid-column:7/8;grid-row:1/3;align-self:center}.breakdown__heading--venue-type[_ngcontent-%COMP%]{grid-column:8/9;grid-row:1/3;align-self:center}.breakdown__content[_ngcontent-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:1fr 40% repeat(6,1fr);grid-template-rows:auto;-webkit-box-align:center;align-items:center}.breakdown__content--code[_ngcontent-%COMP%]{grid-column:1/2}.breakdown__content--description[_ngcontent-%COMP%]{grid-column:2/3}.breakdown__content--contact[_ngcontent-%COMP%]{grid-column:3/4}.breakdown__content--other[_ngcontent-%COMP%]{grid-column:4/5}.breakdown__content--time[_ngcontent-%COMP%]{grid-column:5/6;align-self:center}.breakdown__content--students[_ngcontent-%COMP%]{grid-column:6/7;align-self:center}.breakdown__content--venue[_ngcontent-%COMP%]{grid-column:7/8;align-self:center}.breakdown__content--venue-type[_ngcontent-%COMP%]{grid-column:8/9;align-self:center}.breakdown__total[_ngcontent-%COMP%]{grid-column:1/-1;border-top:1px solid #000;display:grid;grid-template-columns:1fr 40% repeat(6,1fr);grid-template-rows:auto;-webkit-box-align:center;align-items:center;font-weight:700}.breakdown__total--total[_ngcontent-%COMP%]{grid-column:1/2}.breakdown__total--contact[_ngcontent-%COMP%]{grid-column:3/4}.breakdown__total--other[_ngcontent-%COMP%]{grid-column:4/5}.breakdown__total--time[_ngcontent-%COMP%]{grid-column:5/6;align-self:center}.signature[_ngcontent-%COMP%]{height:10rem;display:grid;grid-template-columns:repeat(3,1fr);grid-auto-rows:minmax(3rem,-webkit-max-content);grid-auto-rows:minmax(3rem,max-content);-webkit-box-align:center;align-items:center}.signature__user[_ngcontent-%COMP%]{align-self:center;width:70%;grid-column:1/2;grid-row:1}.signature__user--sig[_ngcontent-%COMP%]{border-bottom:1px solid}.signature__date[_ngcontent-%COMP%]{width:50%;grid-column:2/3;grid-row:1}.signature__hod[_ngcontent-%COMP%]{align-self:center;width:70%;grid-column:3/4;grid-row:1}.signature__hod--sig[_ngcontent-%COMP%]{border-bottom:1px solid}"]],data:{}});function f(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","programme__item--value"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" ","% "]))],null,function(l,n){l(n,1,0,n.component.sumPercentageOfTotal)})}function O(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","programme__content"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","programme__item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"div",[["class","programme__item--code"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),(l()(),t["\u0275eld"](4,0,null,null,1,"div",[["class","programme__item--name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,[" "," "])),(l()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](7,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,7,0,0===n.context.index)},function(l,n){l(n,3,0,null==n.context.$implicit?null:n.context.$implicit.dutyId),l(n,5,0,null==n.context.$implicit?null:n.context.$implicit.name)})}function k(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"div",[["class","breakdown__content"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"div",[["class","breakdown__content--code"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","breakdown__content--description"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",", ",", ",","])),(l()(),t["\u0275eld"](5,0,null,null,1,"div",[["class","breakdown__content--contact"]],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"div",[["class","breakdown__content--other"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,1,"div",[["class","breakdown__content--time"]],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),(l()(),t["\u0275eld"](11,0,null,null,1,"div",[["class","breakdown__content--students"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),(l()(),t["\u0275eld"](13,0,null,null,1,"div",[["class","breakdown__content--venue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,["",""])),(l()(),t["\u0275eld"](15,0,null,null,1,"div",[["class","breakdown__content--venue-type"]],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,["",""]))],null,function(l,n){l(n,2,0,null==n.context.$implicit?null:null==n.context.$implicit.activity?null:null==n.context.$implicit.activity.module?null:n.context.$implicit.activity.module.moduleId),l(n,4,0,null==n.context.$implicit?null:null==n.context.$implicit.activity?null:null==n.context.$implicit.activity.module?null:n.context.$implicit.activity.module.name,null==n.context.$implicit?null:null==n.context.$implicit.activity?null:null==n.context.$implicit.activity.module?null:null==n.context.$implicit.activity.module.block?null:n.context.$implicit.activity.module.block.blockId,null==n.context.$implicit?null:null==n.context.$implicit.activity?null:null==n.context.$implicit.activity.module?null:null==n.context.$implicit.activity.module.offeringType?null:n.context.$implicit.activity.module.offeringType.offeringTypeId),l(n,6,0,null==n.context.$implicit?null:n.context.$implicit.baseContact),l(n,8,0,null==n.context.$implicit?null:n.context.$implicit.other),l(n,10,0,null==n.context.$implicit?null:n.context.$implicit.percentageOfTotal),l(n,12,0,null==n.context.$implicit?null:n.context.$implicit.studentsEnrolled),l(n,14,0,"TBD"),l(n,16,0,"Classroom")})}function C(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,45,"div",[["class","hemis"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"div",[["class","heading"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Allocation of Time"])),(l()(),t["\u0275eld"](3,0,null,null,7,"div",[["class","programme"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,4,"div",[["class","programme__heading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"div",[["class","programme__heading--programme"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" PROGRAMME/SUB-PROGRAMME "])),(l()(),t["\u0275eld"](7,0,null,null,1,"div",[["class","programme__heading--time"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" % TIME "])),(l()(),t["\u0275and"](16777216,null,null,1,null,O)),t["\u0275did"](10,278528,null,0,r.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](11,0,null,null,1,"div",[["class","heading"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Breakdown of 1.1: Formal Instruction"])),(l()(),t["\u0275eld"](13,0,null,null,32,"div",[["class","breakdown"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,20,"div",[["class","breakdown__heading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"div",[["class","breakdown__heading--subject"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["SUBJECT"])),(l()(),t["\u0275eld"](17,0,null,null,1,"div",[["class","breakdown__heading--code"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["CODE"])),(l()(),t["\u0275eld"](19,0,null,null,1,"div",[["class","breakdown__heading--description"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["DESCRIPTION"])),(l()(),t["\u0275eld"](21,0,null,null,1,"div",[["class","breakdown__heading--annual-hours"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["ANNUAL HOURS"])),(l()(),t["\u0275eld"](23,0,null,null,1,"div",[["class","breakdown__heading--contact"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["CONTACT"])),(l()(),t["\u0275eld"](25,0,null,null,1,"div",[["class","breakdown__heading--other"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["OTHER"])),(l()(),t["\u0275eld"](27,0,null,null,1,"div",[["class","breakdown__heading--time"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["% TIME"])),(l()(),t["\u0275eld"](29,0,null,null,1,"div",[["class","breakdown__heading--students"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["NO OF STUDENTS"])),(l()(),t["\u0275eld"](31,0,null,null,1,"div",[["class","breakdown__heading--venue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["LECTURE ROOM"])),(l()(),t["\u0275eld"](33,0,null,null,1,"div",[["class","breakdown__heading--venue-type"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["C/L"])),(l()(),t["\u0275and"](16777216,null,null,1,null,k)),t["\u0275did"](36,278528,null,0,r.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](37,0,null,null,8,"div",[["class","breakdown__total"]],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,1,"div",[["class","breakdown__total--total"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Total"])),(l()(),t["\u0275eld"](40,0,null,null,1,"div",[["class","breakdown__total--contact"]],null,null,null,null,null)),(l()(),t["\u0275ted"](41,null,["",""])),(l()(),t["\u0275eld"](42,0,null,null,1,"div",[["class","breakdown__total--other"]],null,null,null,null,null)),(l()(),t["\u0275ted"](43,null,["",""])),(l()(),t["\u0275eld"](44,0,null,null,1,"div",[["class","breakdown__total--time"]],null,null,null,null,null)),(l()(),t["\u0275ted"](45,null,["","%"])),(l()(),t["\u0275eld"](46,0,null,null,11,"div",[["class","signature"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,3,"div",[["class","signature__user"]],null,null,null,null,null)),(l()(),t["\u0275eld"](48,0,null,null,0,"div",[["class","signature__user--sig"]],null,null,null,null,null)),(l()(),t["\u0275eld"](49,0,null,null,1,"div",[["class","signature__user--text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Staff Signature"])),(l()(),t["\u0275eld"](51,0,null,null,2,"div",[["class","signature__date"]],null,null,null,null,null)),(l()(),t["\u0275eld"](52,0,null,null,1,"div",[["class","datepicker-input"]],null,null,null,null,null)),(l()(),t["\u0275eld"](53,0,null,null,0,"input",[["class","datepicker-input"],["type","date"]],null,null,null,null,null)),(l()(),t["\u0275eld"](54,0,null,null,3,"div",[["class","signature__hod"]],null,null,null,null,null)),(l()(),t["\u0275eld"](55,0,null,null,0,"div",[["class","signature__hod--sig"]],null,null,null,null,null)),(l()(),t["\u0275eld"](56,0,null,null,1,"div",[["class","signature__hod--text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["HOD Signature"]))],function(l,n){var e=n.component;l(n,10,0,e.duties),l(n,36,0,e.hemisData)},function(l,n){var e=n.component;l(n,41,0,""),l(n,43,0,""),l(n,45,0,e.sumPercentageOfTotal)})}function y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-report",[],null,null,null,C,v)),t["\u0275did"](1,245760,null,0,b,[h.l,c.a,d.a,p.a,_.a,m,w.a],null,null)],function(l,n){l(n,1,0)},null)}var x=t["\u0275ccf"]("app-report",b,y,{},{},[]);class P{}var M=e("aYsj");e.d(n,"ReportModuleNgFactory",function(){return S});var S=t["\u0275cmf"](u,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,x]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,r.NgLocalization,r.NgLocaleLocalization,[t.LOCALE_ID,[2,r["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](1073742336,r.CommonModule,r.CommonModule,[]),t["\u0275mpd"](1073742336,h.p,h.p,[[2,h.u],[2,h.l]]),t["\u0275mpd"](1073742336,P,P,[]),t["\u0275mpd"](1073742336,M.a,M.a,[]),t["\u0275mpd"](1073742336,u,u,[]),t["\u0275mpd"](1024,h.j,function(){return[[{path:"",component:b,children:[{path:"",redirectTo:""}]}]]},[])])})}}]);