<app-page-header [breadcrumbs]="breadcrumbs"></app-page-header>
<div class="p-grid" [@routerTransition]>
    <div class="p-col">
        <form #f="ngForm" (ngSubmit)="onSubmit()" *ngIf="qualificationModel">
            <p-panel header="Edit Qualification">

                <!-- QUALIFICATION ID -->
                <div class="p-grid">
                    <div class="p-col-2">
                        <label for="qualificationId">
                            Qualification ID
                        </label>
                    </div>
                    <div class="p-col-6">
                        <input type="text" pInputText [(ngModel)]="qualificationModel.qualificationId"
                            name="qualificationId" placeholder="Qualification ID" #qualificationId="ngModel" required>
                    </div>
                    <div class="p-col-4"
                        *ngIf="(qualificationId.dirty||qualificationId.touched)&&qualificationId.hasError('required')">
                        <p-message severity="error" text="This field is required"></p-message>
                    </div>
                </div>

                <!-- NAME -->
                <div class="p-grid">
                    <div class="p-col-2">
                        <label for="name">
                            Name
                        </label>
                    </div>
                    <div class="p-col-6">
                        <input type="text" pInputText [(ngModel)]="qualificationModel.name" name="name" #name="ngModel"
                            placeholder="Qualification name" required>
                    </div>
                    <div class="p-col-4" *ngIf="(name.dirty||name.touched)&&name.hasError('required')">
                        <p-message severity="error" text="This field is required"></p-message>
                    </div>
                </div>

                <!-- TYPE -->
                <div class="p-grid">
                    <div class="p-col-2">
                        <label for="type">
                            Type
                        </label>
                    </div>
                    <div class="p-col-6">
                        <p-dropdown [options]="types" optionLabel="label" dataKey="label" [(ngModel)]="selectedType"
                            name="type" #type="ngModel" #type placeholder="Select Type" [showClear]="true"
                            appendTo="body" [filter]="true" required>
                        </p-dropdown>
                    </div>
                    <div class="p-col-4" *ngIf="(type.dirty||type.touched)&&type.hasError('required')">
                        <p-message severity="error" text="Type is required"></p-message>
                    </div>
                </div>

                <!-- DEPARTMENT -->
                <div class="p-grid">
                    <div class="p-col-2">
                        <label for="departmentId">
                            Department
                        </label>
                    </div>
                    <div class="p-col-6">
                        <p-dropdown [options]="departments" optionLabel="name" dataKey="departmentId"
                            [(ngModel)]="selectedDepartment" name="department" #department="ngModel" #department
                            placeholder="Select Department" [showClear]="true" appendTo="body" [filter]="true" required>
                        </p-dropdown>
                    </div>
                    <div class="p-col-4"
                        *ngIf="(department.dirty||department.touched)&&department.hasError('required')">
                        <p-message severity="error" text="Department is required"></p-message>
                    </div>
                </div>

                <p-footer>
                    <div class="p-grid" *ngIf="!isSubmitting; else spinner">
                        <div class="p-col">
                            <button type="button" pButton label="Back" icon="pi pi-arrow-left"
                                class="ui-button-danger mr-2" (click)="onBack($event)"></button>
                            <button pButton label="Save" icon="pi pi-plus" class="ui-button-primary"></button>
                            <button type="button" pButton label="Reset" icon="pi pi-refresh"
                                class="ui-button-secondary float-right" (click)="onReset($event)"></button>
                        </div>
                    </div>
                    <div class="p-grid">
                        <div class="p-col">
                            <ng-template #spinner>
                                <p-progressSpinner [style]="{width: '50px', height: '50px'}" strokeWidth="6"
                                    fill="#EEEEEE" animationDuration=".5s"></p-progressSpinner>
                            </ng-template>
                        </div>
                    </div>
                </p-footer>

            </p-panel>
        </form>
    </div>
</div>